import{r as m,j as e}from"./react-BLQlKNq_.js";import{A as v}from"./ag-grid-react-C80lJ4QP.js";import"./ag-grid-community-CM-fV85Q.js";import{a as y}from"./index-DCEUI2HW.js";import{a as N}from"./react-redux-10GvvXuy.js";import{b as w,az as A,b5 as C}from"./@mui-Bw2wRnxu.js";import"./@babel-HOuxngs4.js";import"./react-dom-DmmE3xc2.js";import"./scheduler-CzFDRTuY.js";import"./react-router-dom-BCp3cZHX.js";import"./react-router-CeklShVs.js";import"./@remix-run-CbFatO5U.js";import"./notistack-DWKSkMQ9.js";import"./goober-DovPBWGu.js";import"./axios-Cm0UX6qg.js";import"./@reduxjs-DVdFRU_h.js";import"./redux-DITMfSWq.js";import"./immer-BWU1mfoO.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./react-typed-DYA10Kre.js";import"./typed.js-exEGtOgn.js";import"./react-bootstrap-sweetalert-DQB2ynYp.js";import"./prop-types-C1xvqhu3.js";import"./swiper-DTKdPQEP.js";import"./fslightbox-react-CQdsEJ3s.js";import"./yet-another-react-lightbox-DocsD2co.js";import"./react-bootstrap-C0bN-j8n.js";import"./classnames-BfIYw_zE.js";import"./@restart-JOvkJ3VN.js";import"./dom-helpers-nL1pTuZz.js";import"./react-transition-group-DSzsIoyj.js";import"./react-lazyload-DZ8paPqQ.js";import"./react-loading-skeleton-D7jF0Q-E.js";import"./use-sync-external-store-De7g8zNk.js";import"./@emotion-C2ZuPDAx.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-NkKAe6Bn.js";import"./clsx-B-dksMZM.js";import"./@popperjs-BQBsAJpH.js";const ft=()=>{const[l,u]=m.useState([{Course:"",price:"",Status:"",Purchase_Date:"",Remaining_Days:""}]),[d,j]=m.useState([{field:"Course",flex:1},{field:"price",valueFormatter:a=>"PKR "+Math.floor(a.value).toLocaleString(),flex:1},{field:"Status",flex:1},{field:"Purchase_Date",flex:1},{field:"Remaining_Days",flex:1}]);m.useEffect(()=>{(async()=>{try{const r=await y.get("/purchase/dashboard"),s=new Date,o=r.data.map(i=>{const x=new Date(i.purchaseDate),D=new Date(i.expiryDate),g=Math.ceil((D-s)/(1e3*60*60*24));return{Course:i.course,price:i.price,Status:i.status,Purchase_Date:x.toLocaleString("en-PK",{timeZone:"Asia/Karachi"}),Remaining_Days:g}});u(o)}catch(r){console.error("Error fetching data:",r)}})()},[]);const[t,S]=m.useState(N(a=>{var r,s,o;return(o=(s=(r=a.auth)==null?void 0:r.user)==null?void 0:s.user)==null?void 0:o.user})),c=(t==null?void 0:t.isMdcat)||!1,n=(t==null?void 0:t.isNums)||!1,p=(t==null?void 0:t.isMdcatNums)||!1,f=(t==null?void 0:t.isTrialActive)||!1,h=()=>c&&n?"Mdcat & Nums Course Active":c?"Mdcat Course Active":n?"Nums Course Active":p?"Mdcat & Nums Course Active":f&&!c&&!n&&!p?"Free Trial Active":"No Active Course";return e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"container text-center py-4 rounded-4 mt-md-1 mt-4 shadow fw-bold ",children:e.jsx(w,{variant:"h4",style:{color:"#1976D2"},fontWeight:"bold",className:"mt-2 d-inline",align:"center",gutterBottom:!0,children:"Course Details"})}),e.jsx("div",{className:"row mt-md-5 mt-3 px-3",children:e.jsx(A,{severity:"info",style:{position:"relative",zIndex:1,display:"flex",alignItems:"center"},children:e.jsx(C,{style:{fontSize:"1rem",marginTop:"5px"},children:h()})})}),e.jsx("div",{style:{width:"100%",height:"27vh"},className:"mt-3 px-md-1",children:e.jsx("div",{style:{width:"100%",height:"100%"},className:"ag-theme-quartz ",children:e.jsx(v,{rowData:l,columnDefs:d})})})]})};export{ft as default};
