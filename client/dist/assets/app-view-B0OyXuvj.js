import{j as e,r as c}from"./react-BLQlKNq_.js";import{f as p,A as R}from"./app-current-visits-poYf7G-8.js";import{P as m}from"./prop-types-C1xvqhu3.js";import{v as L,S as y,B as N,b as f,aJ as A,a0 as v,aK as k,aL as E,aM as P,t as O,al as a}from"./@mui-JR0bzeok.js";import{a as V}from"./react-redux-10GvvXuy.js";import{m as W}from"./framer-motion-BtSPSV2p.js";import{V as F}from"./react-d3-speedometer-CyzE8Ye5.js";import{a as M}from"./index-BZIQzIKv.js";import{S as n}from"./react-loading-skeleton-D7jF0Q-E.js";import{R as T}from"./react-bootstrap-C0bN-j8n.js";import"./@babel-HOuxngs4.js";import"./numeral-CCJ_Er5-.js";import"./react-apexcharts-BI_6haHD.js";import"./apexcharts-DslPAlqm.js";import"./lodash-BDLwEDfV.js";import"./use-responsive-BfmN1OCZ.js";import"./@emotion-C2ZuPDAx.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-NkKAe6Bn.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-DSzsIoyj.js";import"./react-dom-DmmE3xc2.js";import"./scheduler-CzFDRTuY.js";import"./@popperjs-BQBsAJpH.js";import"./use-sync-external-store-De7g8zNk.js";import"./react-router-dom-BCp3cZHX.js";import"./react-router-CeklShVs.js";import"./@remix-run-CbFatO5U.js";import"./notistack-DWKSkMQ9.js";import"./goober-DovPBWGu.js";import"./axios-Cm0UX6qg.js";import"./@reduxjs-DVdFRU_h.js";import"./redux-DITMfSWq.js";import"./immer-BWU1mfoO.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./react-typed-DYA10Kre.js";import"./typed.js-exEGtOgn.js";import"./react-bootstrap-sweetalert-DQB2ynYp.js";import"./swiper-DTKdPQEP.js";import"./fslightbox-react-CQdsEJ3s.js";import"./react-lazyload-DZ8paPqQ.js";import"./classnames-BfIYw_zE.js";import"./@restart-JOvkJ3VN.js";import"./dom-helpers-nL1pTuZz.js";function w({title:s,total:t,icon:r,color:l="primary",sx:d,...h}){return e.jsxs(L,{component:y,spacing:3,direction:"row",sx:{px:3,py:5,borderRadius:2,...d},...h,className:"d-flex align-items-center justify-content-between",children:[r&&e.jsx(N,{sx:{width:64,height:64},children:r}),e.jsxs(y,{spacing:.5,children:[e.jsx(f,{variant:"h3",style:{fontFamily:"fredoka",fontWeight:"500"},children:p(t)}),e.jsx(f,{variant:"subtitle2",fontSize:16,sx:{color:"text.disabled",fontWeight:"bold",paddingRight:"2rem"},children:s})]})]})}w.propTypes={color:m.string,icon:m.oneOfType([m.element,m.string]),sx:m.object,title:m.string,total:m.number};const B="/png/right.png",z="/png/wrong.png",Q=({data:s})=>{const t=(s==null?void 0:s.correctCount)+(s==null?void 0:s.wrongCount),r=s==null?void 0:s.correctCount,l=s==null?void 0:s.wrongCount,d=s==null?void 0:s.totalCount,h=t/d*100,j=r/(r+l)*100,g=l/(r+l)*100;return e.jsx(W.div,{whileHover:{scale:1.015},className:"subject-overview shadow mb-3 ms-3 ms-md-0",children:e.jsxs("div",{className:"container py-2",children:[e.jsx("div",{className:"row py-1",children:e.jsx("p",{className:"text-center sub-title text-primary",children:s==null?void 0:s.subject})}),e.jsxs("div",{className:"row subject-info",children:[e.jsxs("div",{className:"info d-flex justify-content-between",children:[e.jsxs("strong",{style:{color:"#1F63BE"},children:["Attempted ",e.jsx(A,{})," "]}),e.jsxs("p",{className:"w-50",style:{color:"#1F63BE"},children:[e.jsx(v,{style:{height:"18px"},variant:"determinate",color:"inherit",value:h,className:"w-75 rounded-5"}),p(t)]})]}),e.jsxs("div",{className:"info d-flex justify-content-between",children:[e.jsxs("strong",{style:{color:"#00B749"},children:["Correct ",e.jsx(k,{})]}),e.jsxs("p",{className:"w-50",style:{color:"#00B749"},children:[e.jsx(v,{style:{height:"18px"},variant:"determinate",color:"inherit",value:j,className:"w-75 rounded-5"}),p(r)]})]}),e.jsxs("div",{className:"infod d-flex justify-content-between",children:[e.jsxs("strong",{style:{color:"#D53D51"},children:["Wrong ",e.jsx(E,{fontSize:"12"})]}),e.jsxs("p",{className:"w-50",style:{color:"#D53D51"},children:[e.jsx(v,{style:{height:"18px"},variant:"determinate",color:"inherit",value:g,className:"w-75 rounded-5"}),p(l)]})]}),e.jsxs("div",{className:"info d-flex justify-content-between",children:[e.jsxs("strong",{style:{color:"#454545"},children:["Total ",e.jsx(P,{})]}),e.jsx("p",{className:"px-2 fs-5",style:{color:"#454545"},children:p(d)})]})]})]})})},H=Q,I="/assets/stats-DMRZO6Zc.gif",q=()=>e.jsxs("div",{className:"dashboard-skeleton",children:[e.jsxs("div",{className:"stat-item d-flex flex-column flex-md-row",style:{height:"190px"},children:[e.jsx("div",{className:"flex-fill h-100 mb-2 mb-md-0 me-md-2",children:e.jsx(n,{height:"100%",borderRadius:10})}),e.jsx("div",{className:"flex-fill h-100",children:e.jsx(n,{height:"100%",borderRadius:10})})]}),e.jsx("h2",{className:"subjects-title mt-4 d-flex justify-content-center",children:e.jsx(n,{width:200,height:50,borderRadius:10})}),e.jsx("div",{className:"stats mt-2",children:e.jsxs("div",{className:"stat-item d-flex flex-column flex-md-row",style:{height:"180px"},children:[e.jsx("div",{className:"flex-fill h-100 mb-2 mb-md-0 me-md-2",children:e.jsx(n,{height:"100%",borderRadius:10})}),e.jsx("div",{className:"flex-fill h-100 mb-2 mb-md-0 me-md-2",children:e.jsx(n,{height:"100%",borderRadius:10})}),e.jsx("div",{className:"flex-fill h-100",children:e.jsx(n,{height:"100%",borderRadius:10})})]})}),e.jsxs("div",{className:" mt-5 stat-item d-flex flex-column flex-md-row",style:{height:"400px"},children:[e.jsx("div",{className:"flex-fill h-100 mb-2 mb-md-0 me-md-2",children:e.jsx(n,{height:"100%",borderRadius:10})}),e.jsx("div",{className:"flex-fill h-100",children:e.jsx(n,{height:"100%",borderRadius:10})})]})]}),J=q;function Te(){var b;let s=V(x=>{var i;return(i=x.auth)==null?void 0:i.user});s=(b=s==null?void 0:s.user)==null?void 0:b.user;const[t,r]=c.useState({}),[l,d]=c.useState([]),[h,j]=c.useState(null),[g,S]=c.useState(0),[C,u]=c.useState(!1);return c.useEffect(()=>{(async()=>{try{u(!0);const i=await M.post("/mcq/stats",{userId:s._id});r(i.data),j(null),u(!1)}catch{j("Failed to fetch statistics data. Please try again later."),u(!1)}})()},[s._id]),c.useEffect(()=>{if(t!=null&&t.combinedSubjectCounts){const x=t.combinedSubjectCounts.map(o=>({label:o==null?void 0:o.subject,value:((o==null?void 0:o.correctCount)||0)+((o==null?void 0:o.wrongCount)||0)}));d(x);const i=t.solvedLength/(t.solvedLength+t.wrongLength)*100;S(i)}},[t]),e.jsxs(O,{maxWidth:"xl",children:[e.jsxs(f,{variant:"h4",className:"ps-2",sx:{mb:5,mt:2},children:["Hi, Welcome back"," ",e.jsx("span",{className:"text-primary fw-bold",children:s==null?void 0:s.username}),"ðŸ‘‹"]}),h&&e.jsx(N,{sx:{mb:2},children:e.jsx(f,{variant:"body1",color:"error",children:h})}),C&&e.jsx(J,{}),(t.solvedLength>0||t.wrongLength>0)&&e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{xs:12,sm:6,md:6,className:"px-2 px-md-1",children:e.jsx(w,{title:"Attempted Right MCQS",total:t.solvedLength,color:"success",icon:e.jsx("img",{alt:"icon",src:B,height:83})})}),e.jsx(a,{xs:12,className:"mt-md-0 mt-2 px-2 px-md-2",sm:6,md:6,children:e.jsx(w,{title:"Attempted Wrong MCQS",total:t.wrongLength,color:"info",icon:e.jsx("img",{alt:"icon",src:z,height:90})})}),e.jsx(a,{xs:12,sm:12,md:12,children:e.jsx(f,{variant:"h4",sx:{mb:2,mt:4,textAlign:"center"},children:e.jsx("span",{className:"text-primary fw-bold",children:"Subjects Overview ðŸ“š"})})}),e.jsx(T,{className:"hamza w-100",children:t!=null&&t.combinedSubjectCounts?t.combinedSubjectCounts.map((x,i)=>e.jsx(a,{xs:12,md:4,lg:4,sm:6,children:e.jsx(H,{data:x})},i)):"Solve Mcqs to see stats"}),e.jsx(a,{xs:12,md:6,lg:6,p:1,children:e.jsx("div",{className:"bg-white rounded-3 overflow-hidden shadow-sm ",children:e.jsx(R,{title:"Subject Wise Attempted MCQs",className:"h-100",chart:{series:l}})})}),e.jsx(a,{xs:12,md:6,lg:6,p:1,children:e.jsxs("div",{className:"overflow-hidden bg-white h-100 shadow-sm rounded-3 d-flex flex-column  align-items-center justify-content-between",children:[e.jsx("div",{style:{padding:".88rem 3rem",fontFamily:"fredoka",fontSize:"1.5rem"},className:"row w-100 bg-primary px-3 text-white",children:"Performance"}),e.jsx("div",{style:{position:"relative",width:"385px"},children:e.jsx(F,{width:385,maxSegmentLabels:0,segments:5555,needleHeightRatio:.7,forceRender:!0,value:g,minValue:0,maxValue:100,currentValueText:g.toFixed(2),ringWidth:57,needleTransitionDuration:3333,needleTransition:"easeElastic",needleColor:"#90f2ff",textColor:"#aaa",ariaLabel:"Performance Speedometer"})})]})})]}),e.jsx(e.Fragment,{children:t.solvedLength<1&&t.wrongLength<1&&e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"nav-shoadow py-1 rounded-5",children:[e.jsx("div",{className:"row justify-content-center",children:e.jsx("span",{className:"w-auto mt-0",children:e.jsx("img",{src:I,height:"180",alt:""})})}),e.jsx("p",{className:"text-center fw-bold fs-5 text-dark",style:{fontFamily:"inter"},children:"Attempt MCQ's to View statistics"}),e.jsx("div",{className:"row justify-content-center",children:e.jsx("button",{class:"button w-auto",children:e.jsx("div",{class:"hoverEffect",children:e.jsx("div",{})})})})]})})})]})}export{Te as default};
