import{r as t,j as e}from"./react-BLQlKNq_.js";import{u as E}from"./notistack-DWKSkMQ9.js";import{a as d}from"./index-B50ReYK6.js";import{G as u,a1 as D,J as k,f as p,ad as I,R as g,ae as F,F as M}from"./@mui-DAjQFfGe.js";import"./@babel-HOuxngs4.js";import"./react-dom-DmmE3xc2.js";import"./scheduler-CzFDRTuY.js";import"./goober-DovPBWGu.js";import"./react-router-dom-BCp3cZHX.js";import"./react-router-CeklShVs.js";import"./@remix-run-CbFatO5U.js";import"./react-redux-10GvvXuy.js";import"./use-sync-external-store-De7g8zNk.js";import"./axios-Cm0UX6qg.js";import"./@reduxjs-DVdFRU_h.js";import"./redux-DITMfSWq.js";import"./immer-BWU1mfoO.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./react-typed-DYA10Kre.js";import"./typed.js-exEGtOgn.js";import"./react-bootstrap-sweetalert-DQB2ynYp.js";import"./prop-types-C1xvqhu3.js";import"./swiper-DTKdPQEP.js";import"./fslightbox-react-CQdsEJ3s.js";import"./react-bootstrap-C0bN-j8n.js";import"./classnames-BfIYw_zE.js";import"./@restart-JOvkJ3VN.js";import"./dom-helpers-nL1pTuZz.js";import"./react-transition-group-DSzsIoyj.js";import"./react-lazyload-DZ8paPqQ.js";import"./react-loading-skeleton-D7jF0Q-E.js";import"./@emotion-C2ZuPDAx.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-NkKAe6Bn.js";import"./clsx-B-dksMZM.js";import"./@popperjs-BQBsAJpH.js";const ye=()=>{const[c,h]=t.useState(!1),{enqueueSnackbar:x}=E(),[i,f]=t.useState(""),[o,j]=t.useState(""),[a,y]=t.useState(""),[n,N]=t.useState(""),[l,v]=t.useState(""),[m,C]=t.useState(""),[b,w]=t.useState([]),S=async()=>{if(!i||!o||!a){N(i?"":"Please enter a course name"),v(o?"":"Please enter a course price"),C(a?"":"Please enter a course description");return}try{const r=await d.post("/course",{courseName:i,coursePrice:o,courseDescription:a});x(r.data.message,{variant:"success",autoHideDuration:1500}),h(!c)}catch{x("something went Wrong",{variant:"error",autoHideDuration:1400}),h(!c)}},P=async r=>{await f(r.target.value);const s=await d.get(`/course/${r.target.value}`);console.log(s),j(s.data.cprice),y(s.data.cdesc)};return t.useEffect(()=>{(async()=>{let s=await d.get("/course/all");console.log(s),w(s.data)})()},[c]),e.jsxs("div",{className:"admin-courses",children:[e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"row my-3 col-md-6",children:e.jsxs(u,{error:!!n,children:[e.jsxs("strong",{className:"my-2 text-primary fw-bold",children:["Course Name ",e.jsx(D,{style:{color:"blueviolet"}})]}),e.jsxs(k,{labelId:"course-type-label",id:"course-type-select",placeholder:"Select Course",onChange:r=>P(r),children:[e.jsx(p,{value:"nums",children:"Nums"}),e.jsx(p,{value:"mdcat",children:"MdCat"}),e.jsx(p,{value:"mdcat+nums",children:"MdCat + Nums"})]}),n&&e.jsx("span",{className:"text-danger",children:n})]})}),e.jsx("div",{className:"row col-md-6 my-2",children:e.jsxs(u,{error:!!l,children:[e.jsxs("strong",{className:"my-2 text-primary fw-bold",children:["Course Price ",e.jsx(I,{style:{color:"goldenrod"}})]}),e.jsx(g,{type:"number",value:o,onChange:r=>j(r.target.value)}),l&&e.jsx("span",{className:"text-danger",children:l})]})}),e.jsxs("div",{className:"mx-2",children:[e.jsx("div",{className:"row my-4",children:e.jsxs(u,{error:!!m,children:[e.jsxs("strong",{className:"my-2 text-primary fw-bold",children:["Course description ",e.jsx(F,{style:{color:"teal"}})]}),e.jsx(g,{value:a,multiline:!0,rows:4,onChange:r=>y(r.target.value)}),m&&e.jsx("span",{className:"text-danger",children:m})]})}),e.jsx("div",{className:" my-4",children:e.jsx(M,{className:"pt-2",variant:"contained",color:"primary",onClick:S,children:"Submit"})})]})]}),e.jsx("div",{className:"container table-responsive mt-5 pt-1",children:e.jsxs("table",{className:"table table-striped table-hover table-primary rounded-4 shadow",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"No"}),e.jsx("th",{scope:"col",children:"Course Name"}),e.jsx("th",{scope:"col",children:"Course Price"}),e.jsx("th",{scope:"col",children:"Course description"})]})}),e.jsx("tbody",{children:b.map((r,s)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:s+1}),e.jsx("td",{children:r==null?void 0:r.cname}),e.jsx("td",{children:r==null?void 0:r.cprice}),e.jsx("td",{children:e.jsx("textarea",{style:{resize:"none"},readOnly:!0,className:"form-control resize-none",children:r==null?void 0:r.cdesc})})]},s))})]})})]})};export{ye as default};
