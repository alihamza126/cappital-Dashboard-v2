import{r as a,j as e}from"./react-BLQlKNq_.js";import{A as B}from"./app-current-visits-DE4CRV-g.js";import{_ as N}from"./react-countup-CAmVYjzm.js";import{a as G}from"./index-DbnCLypk.js";import{a0 as x}from"./@mui-Bw2wRnxu.js";import"./@babel-HOuxngs4.js";import"./prop-types-C1xvqhu3.js";import"./numeral-CCJ_Er5-.js";import"./react-apexcharts-BI_6haHD.js";import"./apexcharts-DslPAlqm.js";import"./lodash-BDLwEDfV.js";import"./use-responsive-B57YyLr_.js";import"./countup.js-BhUCV37j.js";import"./react-dom-DmmE3xc2.js";import"./scheduler-CzFDRTuY.js";import"./react-router-dom-BCp3cZHX.js";import"./react-router-CeklShVs.js";import"./@remix-run-CbFatO5U.js";import"./react-redux-10GvvXuy.js";import"./use-sync-external-store-De7g8zNk.js";import"./notistack-DWKSkMQ9.js";import"./goober-DovPBWGu.js";import"./axios-Cm0UX6qg.js";import"./@reduxjs-DVdFRU_h.js";import"./redux-DITMfSWq.js";import"./immer-BWU1mfoO.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./react-typed-DYA10Kre.js";import"./typed.js-exEGtOgn.js";import"./react-bootstrap-sweetalert-DQB2ynYp.js";import"./swiper-DTKdPQEP.js";import"./fslightbox-react-CQdsEJ3s.js";import"./yet-another-react-lightbox-DocsD2co.js";import"./react-bootstrap-C0bN-j8n.js";import"./classnames-BfIYw_zE.js";import"./@restart-JOvkJ3VN.js";import"./dom-helpers-nL1pTuZz.js";import"./react-transition-group-DSzsIoyj.js";import"./react-lazyload-DZ8paPqQ.js";import"./react-loading-skeleton-D7jF0Q-E.js";import"./@emotion-C2ZuPDAx.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-NkKAe6Bn.js";import"./clsx-B-dksMZM.js";import"./@popperjs-BQBsAJpH.js";const Ye=()=>{const[u,M]=a.useState([]),[g,S]=a.useState([]),[p,E]=a.useState([]),[j,A]=a.useState(0),[v,P]=a.useState(0),[D,T]=a.useState(0),[C,R]=a.useState(0),[b,U]=a.useState(0),[y,z]=a.useState(0),[w,F]=a.useState(0),[t,I]=a.useState(0),[n,_]=a.useState(0),[l,K]=a.useState(0),[r,O]=a.useState(0),[i,Y]=a.useState(0),[c,L]=a.useState(0),[d,V]=a.useState(0),[o,k]=a.useState(0),[m,q]=a.useState(0);return a.useEffect(()=>{(async()=>{const h=await G.get("/adminDashboard");console.log(h.data),M(h.data.simpleDate),S(h.data.lastMonth),E(h.data.lastYear),A(h.data.totalEarning)})()},[]),a.useEffect(()=>{if(g.length>0){const s=g.reduce((h,f)=>h+f.lastMonthPrice,0);T(s)}},[g]),a.useEffect(()=>{if(p.length>0){const s=p.reduce((h,f)=>h+f.lastYearPrice,0);R(s)}},[p]),a.useEffect(()=>{console.log(v),j.length>0&&j.map(s=>{s._id=="mdcat"?z(s.totalEarnings):s._id=="nums"?U(s.totalEarnings):s._id=="mdcat+nums"&&F(s.totalEarnings)}),P(y+b+w)},[j]),a.useEffect(()=>{u.length>0&&u.map(s=>{s.course==="mdcat"&&s.status==="approved"?I(s.purchases.length):s.course==="mdcat"&&s.status==="rejected"?_(s.purchases.length):s.course==="mdcat"&&s.status==="pending"?K(s.purchases.length):s.course==="nums"&&s.status==="approved"?O(s.purchases.length):s.course==="nums"&&s.status==="rejected"?Y(s.purchases.length):s.course==="nums"&&s.status==="pending"?L(s.purchases.length):s.course==="mdcat+nums"&&s.status==="approved"?V(s.purchases.length):s.course==="mdcat+nums"&&s.status==="rejected"?k(s.purchases.length):s.course==="mdcat+nums"&&s.status==="pending"&&q(s.purchases.length)})},[u]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:e.jsx("h1",{className:"h3 mb-0 text-gray-800",children:"Dashboard"})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-xl-4 col-md-6 mb-4",children:e.jsx("div",{className:"card border-left-primary shadow h-100 py-2",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1 fs-5",children:"Earnings (Monthly)"}),e.jsxs("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:["PKR  ",e.jsx(N,{end:D,duration:2})]})]}),e.jsx("div",{className:"col-auto",children:e.jsx("i",{className:"fas fa-calendar fa-2x text-gray-300"})})]})})})}),e.jsx("div",{className:"col-xl-4 col-md-6 mb-4",children:e.jsx("div",{className:"card border-left-success shadow h-100 py-2",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-success text-uppercase mb-1 fs-5",children:"Earnings (Annual)"}),e.jsxs("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:["PKR  ",e.jsx(N,{end:C,duration:2})]})]}),e.jsx("div",{className:"col-auto",children:e.jsx("i",{className:"fas fa-dollar-sign fa-2x text-gray-300"})})]})})})}),e.jsx("div",{className:"col-xl-4 col-md-6 mb-4",children:e.jsx("div",{className:"card border-left-info shadow h-100 py-2",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-info text-uppercase mb-1 fs-5",children:"Total Earning"}),e.jsx("div",{className:"row no-gutters align-items-center",children:e.jsx("div",{className:"col-auto",children:e.jsxs("div",{className:"h5 mb-0 mr-3 font-weight-bold text-gray-800",children:["PKR  ",e.jsx(N,{end:v,duration:3})]})})})]}),e.jsx("div",{className:"col-auto",children:e.jsx("i",{className:"fas fa-clipboard-list fa-2x text-gray-300"})})]})})})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-xl-12 col-lg-12 col-md-12",children:e.jsx("div",{className:"card shadow mb-4",children:e.jsx("div",{children:e.jsx(B,{title:"Earning From Courses",chart:{series:[{label:"MDCAT",value:y},{label:"NUMS",value:b},{label:"MDCAT + NUMS",value:w}]}})})})})}),e.jsx("hr",{}),e.jsx("h4",{className:"fw-bold text-gray-600 mb-3",children:"Course Purchasing Info"}),e.jsxs("div",{className:"row justify-content-around",children:[e.jsxs("div",{className:"card shadow-lg mb-4 col-xl-6 col-lg-5 col-md-6 col-12 ",children:[e.jsx("div",{className:"card-header py-3",children:e.jsx("h6",{className:"m-0 font-weight-bold text-primary",children:"MDCAT - INFO"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("h4",{className:"small font-weight-bold",children:["MDCAT Purchases Approved ",e.jsx("span",{className:"badge badge-success rounded-4",style:{fontSize:"13px"},children:t}),e.jsxs("span",{className:"float-right",children:[Math.round(t/(t+l+n)*100),"%"]})]}),e.jsx("div",{className:"info d-flex justify-content-between",children:e.jsx(x,{style:{height:"10px",color:"green"},variant:"determinate",color:"inherit",value:t/(t+l+n)*100,className:"w-100 rounded-5"})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("h4",{className:"small font-weight-bold",children:["MDCAT Purchases Rejected ",e.jsx("span",{className:"badge badge-danger rounded-4",style:{fontSize:"13px"},children:n})," ",e.jsxs("span",{className:"float-right",children:[Math.round(n/(t+l+n)*100),"%"]})]}),e.jsx("div",{className:"info d-flex justify-content-between",children:e.jsx(x,{style:{height:"10px",color:"red"},variant:"determinate",color:"inherit",value:n/(t+l+n)*100,className:"w-100 rounded-5"})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("h4",{className:"small font-weight-bold",children:["MDCAT Purchases Pending ",e.jsx("span",{className:"badge badge-warning rounded-4",style:{fontSize:"13px"},children:l}),e.jsxs("span",{className:"float-right",children:[Math.round(l/(t+l+n)*100),"%"]})]}),e.jsx("div",{className:"info d-flex justify-content-between",children:e.jsx(x,{style:{height:"10px",color:"orange"},variant:"determinate",color:"inherit",value:l/(t+l+n)*100,className:"w-100 rounded-5"})})]})]}),e.jsxs("div",{className:"card shadow-lg mb-4 col-xl-5 col-lg-6 col-md-6 col-12 ",children:[e.jsx("div",{className:"card-header py-3",children:e.jsx("h6",{className:"m-0 font-weight-bold text-info",children:"NUMS - INFO"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("h4",{className:"small font-weight-bold",children:["NUMS Purchases Approved ",e.jsx("span",{className:"badge badge-success rounded-4",style:{fontSize:"13px"},children:r}),e.jsxs("span",{className:"float-right",children:[Math.round(r/(r+i+c)*100),"%"]})]}),e.jsx("div",{className:"info d-flex justify-content-between",children:e.jsx(x,{style:{height:"10px",color:"green"},variant:"determinate",color:"inherit",value:r/(r+i+c)*100,className:"w-100 rounded-5"})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("h4",{className:"small font-weight-bold",children:["NUMS Purchases Rejected ",e.jsx("span",{className:"badge badge-danger rounded-4",style:{fontSize:"13px"},children:i}),e.jsxs("span",{className:"float-right",children:[Math.round(i/(r+i+c)*100),"%"]})]}),e.jsx("div",{className:"info d-flex justify-content-between",children:e.jsx(x,{style:{height:"10px",color:"red"},variant:"determinate",color:"inherit",value:i/(r+i+c)*100,className:"w-100 rounded-5"})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("h4",{className:"small font-weight-bold",children:["NUMS Purchases Pending ",e.jsx("span",{className:"badge badge-warning rounded-4",style:{fontSize:"13px"},children:c}),e.jsxs("span",{className:"float-right",children:[Math.floor(c/(r+i+c)*100),"%"]})]}),e.jsx("div",{className:"info d-flex justify-content-between",children:e.jsx(x,{style:{height:"10px",color:"orange"},variant:"determinate",color:"inherit",value:c/(r+i+c)*100,className:"w-100 rounded-5"})})]})]}),e.jsxs("div",{className:"card shadow-lg mb-4 col-xl-12 col-lg-12 col-md-12 col-12 ",children:[e.jsx("div",{className:"card-header py-3",children:e.jsx("h6",{className:"m-0 font-weight-bold text-primary",children:"MDCAT+NUMS - INFO"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("h4",{className:"small font-weight-bold",children:["MDCAT+NUMS Purchases Approved ",e.jsx("span",{className:"badge badge-success rounded-4",style:{fontSize:"13px"},children:d}),e.jsxs("span",{className:"float-right",children:[Math.round(d/(o+d+m)*100),"%"]})]}),e.jsx("div",{className:"info d-flex justify-content-between",children:e.jsx(x,{style:{height:"10px",color:"green"},variant:"determinate",color:"inherit",value:d/(o+d+m)*100,className:"w-100 rounded-5"})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("h4",{className:"small font-weight-bold",children:["MDCAT+NUMS Purchases Rejected  ",e.jsx("span",{className:"badge badge-danger rounded-4",style:{fontSize:"13px"},children:o}),e.jsxs("span",{className:"float-right",children:[Math.round(o/(o+d+m)*100),"%"]})]}),e.jsx("div",{className:"info d-flex justify-content-between",children:e.jsx(x,{style:{height:"10px",color:"red"},variant:"determinate",color:"inherit",value:o/(o+d+m)*100,className:"w-100 rounded-5"})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("h4",{className:"small font-weight-bold",children:["MDCAT+NUMS Purchases Pending ",e.jsx("span",{className:"badge badge-warning rounded-4",style:{fontSize:"13px"},children:m}),e.jsxs("span",{className:"float-right",children:[Math.round(m/(o+d+m)*100),"%"]})]}),e.jsx("div",{className:"info d-flex justify-content-between",children:e.jsx(x,{style:{height:"10px",color:"orange"},variant:"determinate",color:"inherit",value:m/(o+d+m)*100,className:"w-100 rounded-5"})})]})]})]})]})})};export{Ye as default};
